## 初始化rule

请在 `.trae\rules\project_rules.md` 文件中记录所有有助于本项目未来开发的相关细节。这些细节应包括但不限于：

1. **构建/配置说明**：如果需要具体的构建或配置步骤，请提供清晰详细的项目设置说明。

2. **测试信息**：
- 配置和运行测试的说明。
- 添加和执行新测试的指南。
- 创建并运行一个简单的测试来演示该过程。

3. **其他开发信息**：关于代码风格的信息，或您认为对开发或调试过程有用的任何其他信息。

**重要提示**：
- 此信息面向高级开发人员；无需包含基本信息，只需包含特定于本项目的信息即可。
- 在将信息写入文件之前，请检查测试示例是否正常运行。
- 最后，删除您创建的除 `.trae\rules\project_rules.md` 之外的所有其他文件。

# 超小型项目的Ai开发策略

## 生成需求计划

分析`.trae\documents\requirements.md`文件内容，提取关键的项目目标与约束条件。结合`.trae\rules\project_rules.md`中的技术规范要求，制定全面的需求规划方案。将详细的规划内容更新至`.trae\documents\plan.md`文件中，并需要：

1. 为每项计划提供充分的技术论证依据
2. 采用清晰的章节结构，按系统模块或主题领域进行分类组织
3. 重点阐述项目的整体技术架构与关键设计决策
4. 保持规划的战略性和前瞻性，避免过度关注具体实现细节

## 生成改进任务

根据`.trae\documents\plan.md`中的项目规划，全面分析代码库以识别需要改进的关键点。创建一份结构化的改进任务清单，保存为`.trae\documents\tasks.md`，要求：

1. 任务分类与优先级
- 按功能模块和系统层次进行分类
- 标注任务优先级(P0/P1/P2)
- 按执行优先级排序

2. 任务描述格式
- 使用`[]`作为任务状态标记，确保任务描述清晰、可执行
- 任务包含具体的完成标准，并注明相关依赖关系

确保所有任务符合`.trae\rules\project_rules.md`的技术规范，并与整体项目规划保持一致。任务排序需考虑技术依赖关系和开发节奏，形成合理的执行路径。

## 执行改进任务

按照`.trae\documents\tasks.md`中的任务清单分阶段执行改进工作，确保改动符合`.trae\rules\project_rules.md`的技术规范，与`.trae\documents\plan.md`中的整体规划保持一致，要求：

1. **阶段性任务执行**
- 按优先级顺序完成阶段性任务
- 每完成一组相关任务后进行功能验证
- 验证改动后的功能可正常预览

2. **更新任务**
- 更新任务状态为`[x]`
- 记录关键技术决策要点

先完成第一阶段（P0任务）的所有任务，确保功能可以正常预览，不要开始下一阶段的任务。

# PAVE项目Ai开发策略

## supabase的设计规划

分析 `.trae\documents\requirements.md` 文件内容，提取关键项目目标与约束条件，制定完整的 Supabase 数据库设计规划。将详细的文档以结构化形式更新至 `.trae\documents\supabase-plan.md` 文件中。

## supabase 具体实现

根据 `.trae\documents\supabase-plan.md` 中的设计规划，实现完整的 Supabase 数据库表设计、RLS策略、触发器等。确保所有实现严格遵循 Supabase 最佳实践，生成详细的 SQL 实现代码并更新至 `.trae\documents\supabase-sql.md` 文件。

## supabase SQL 执行

根据 `.trae\documents\supabase-sql.md` 中的 SQL 实现代码，执行以下步骤将其部署到 supabaseMCP 生产环境：

1. **SQL 执行准备**
- 仔细审查所有 SQL 语句的逻辑顺序和依赖关系
- 确保数据库连接配置正确

2. **分批执行与验证**
- 按照依赖顺序分批执行 SQL 语句
- 每批执行后立即验证结果
- 如发现问题，及时回滚并更新 `.trae\documents\supabase-sql.md`

3. **部署后验证**
- 验证所有数据库对象（表、索引、触发器、函数等）的创建状态
- 执行基本的 CRUD 操作测试
- 检查 RLS 策略是否正确生效

执行完成后，验证所有表、索引、触发器、函数等是否按预期创建，并输出执行记录文档`supabase-sql-execution.md`。

## plate 具体实现

根据现有的plate.js代码和模板，集成并优化文件上传和AI功能。将plate.js内置的文件上传功能适配到名为pave的supabase storage中，plate.js的文档使用mcp查看